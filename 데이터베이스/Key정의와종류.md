# 💚 Key 의 정의와 종류

출처 : [https://jerryjerryjerry.tistory.com/49](https://jerryjerryjerry.tistory.com/49)

> `Key` : 우리집 열쇠와 옆집 열쇠가 다르듯 이렇게 무언가를 식별할 수 있는 고유한 식별자 기능

### 1. 슈퍼키

- 각 행을 유일하게 식별할 수 있는 하나 또는 그 이상의 속성들의 집합
    - 유일성
- 어떤 속성끼리 묶던 중복값이 안나오고 서로 구별만 가능하면 됨.

### 2. 후보키

- 각 행을 유일하게 식별할 수 있는 최소한의 개수의 속성들의 집합
    - 유일성 + 최소성
        - 슈퍼키들 중에서 최소성을 만족하는 키
- ex) 이미 학번 속성 하나로 구별 가능하면, (이름 + 나이) 속성 집합은 후보키가 될 수 없음

### 3. 기본키

- 후보키들 중에서 하나를 선택한 키
- 테이블에서 오직 1개만 설정할 수 있음
    - 한 테이블을 대표하는 후보키 느낌
- NULL 값을 절대 가질 수 없고(각 행들을 구별하려면 값이 없어선 안됨)
- 중복된 값을 가질 수 없다.
- ex) 학번, 주민등록번호

### 4. 대체키

- 후보키들 中 기본키가 아닌 키 (기본키로 지정되지 못한 남은 후보키들)
- 기본키가 없어지게 된다면 다음 기본키로 대체될 수 있는 키들이라고 생각하면 된다.

### 5. 외래키

- 두 테이블 간의 연결 관계를 정의하는 키. 여러 개의 테이블을 조합해 분석을 할 때 반드시 필요.
- 테이블을 적절히 분리하는게 좋은 이유 [https://brunch.co.kr/@dan-kim/26](https://brunch.co.kr/@dan-kim/26)
    - 사용자 정보를 나타내는 속성들과 주문 정보에 대한 속성들이 하나의 테이블로 통합되어 있을 땐, 동일한 사용자가 다른 상품 주문을 추가할 때마다 그 사용자의 정보를 나타내는 속성들은 중복되어 추가되게 되는 셈이다.

        → 중복 데이터가 많으면 하나의 데이터를 찾는데 더 많은 시간이 들며 저장하는데 더 많은 공간이 필요하다

- 외래키의 역할
    - 두 테이블의 연결 다리 역할
    - 기본키와 속성이 동일하다.
    - 사용자 테이블과 주문 정보 테이블을 분리했다면 두 테이블을 연결 짓는, 그러니까 어떤 주문 정보가 있다면 이 주문을 어떤 사용자가 주문 했는지 알 수 있도록 연결할 수 있는 정보가 필요하다.
        - 이때 사용자 데이블의 기본키 (사용자의 id) 를 주문 테이블이 가지고 있으면 사용자 테이블에서 그 기본키 값에 해당하는 한 명의 사용자를 찾아낼 수 있다.
        - 주문 테이블에서 사용아흔 사용자 테이블의 키본키를 외래키라고 한다.
            - 주문 테이블에서 사용하나 주문 테이블의 키는 아니며
            - 해당 키를 통해 이 주문 행에 대응하는 단 한명의 고유한 사용자를 찾아낼 수 있다
        - 이때 사용자 테이블이 부모테이블, 주문 테이블이 자식테이블.
            - 사용자 테이블 입장에선 사용자 id가 기본키
            - 주문 테이블 입장에선 사용자 id가 외래키